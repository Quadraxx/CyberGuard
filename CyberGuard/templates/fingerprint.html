{% extends 'base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <h2 class="text-center mb-4 text-info">ğŸ•µï¸â€â™‚ï¸ Beni Kim Ä°zliyor? (Dijital Parmak Ä°zi)</h2>
        <p class="text-center text-muted">Bir web sitesine girdiÄŸin an, arkanda bÄ±raktÄ±ÄŸÄ±n izler.</p>

        <!-- Ana Bilgi KartÄ± -->
        <div class="card bg-dark border-info text-white mb-4">
            <div class="card-header bg-info text-dark fw-bold">
                ğŸ“¡ Tespit Edilen Cihaz Bilgileri
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-md-4 mb-3">
                        <h1 class="display-4">ğŸ’»</h1>
                        <h5 class="text-info">Ä°ÅŸletim Sistemi</h5>
                        <p class="lead fw-bold">{{ info.os }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <h1 class="display-4">ğŸŒ</h1>
                        <h5 class="text-info">TarayÄ±cÄ±</h5>
                        <p class="lead fw-bold">{{ info.browser }} v{{ info.version }}</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <h1 class="display-4">ğŸ“</h1>
                        <h5 class="text-info">IP Adresi</h5>
                        <p class="lead fw-bold">{{ info.ip }}</p>
                    </div>
                </div>
                <hr class="border-info">
                
                <!-- Detay Tablosu -->
                <table class="table table-dark table-hover table-bordered border-info mt-3">
                    <tr>
                        <th class="text-info">Dil Tercihi:</th>
                        <td>{{ info.language }}</td>
                    </tr>
                    <tr>
                        <th class="text-info">Ekran Ã‡Ã¶zÃ¼nÃ¼rlÃ¼ÄŸÃ¼:</th>
                        <td id="screenRes">HesaplanÄ±yor...</td>
                    </tr>
                    <tr>
                        <th class="text-info">Renk DerinliÄŸi:</th>
                        <td id="colorDepth">HesaplanÄ±yor...</td>
                    </tr>
                    <tr>
                        <th class="text-info">Ã‡erezler (Cookies) AÃ§Ä±k mÄ±?</th>
                        <td id="cookieEnabled">HesaplanÄ±yor...</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Ham Veri (User Agent) -->
        <div class="alert alert-secondary bg-black text-secondary border-secondary font-monospace" style="word-break: break-all;">
            <strong>Ham Veri (User-Agent):</strong> <br>
            {{ info.raw_agent }}
        </div>
        
        <div class="alert alert-warning mt-3">
            <strong>Ders:</strong> Gizli modda (Incognito) olsan bile, iÅŸletim sistemin, ekran boyutun ve tarayÄ±cÄ± sÃ¼rÃ¼mÃ¼n birleÅŸtiÄŸinde seni "eÅŸsiz" kÄ±lan bir parmak izi oluÅŸturur.
        </div>

    </div>
</div>

<script>
    // Sunucunun bilemediÄŸi, sadece TarayÄ±cÄ±nÄ±n bildiÄŸi bilgileri JS ile alÄ±yoruz
    document.getElementById("screenRes").innerText = window.screen.width + " x " + window.screen.height + " Piksel";
    document.getElementById("colorDepth").innerText = window.screen.colorDepth + " Bit";
    
    let cookieStatus = navigator.cookieEnabled ? "âœ… Evet, Ä°zlenebilir" : "âŒ HayÄ±r, KapalÄ±";
    document.getElementById("cookieEnabled").innerText = cookieStatus;
</script>
{% endblock %}